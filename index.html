<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EmailCraft AI - Smart Email Response Generator</title>
    <meta name="description" content="Generate professional email responses instantly with AI-powered assistance">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <div class="logo-section">
                    <div class="logo-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
                        </svg>
                    </div>
                    <div>
                        <h1>EmailCraft AI</h1>
                        <p class="tagline">Smart responses in seconds</p>
                    </div>
                </div>
                <button class="btn-reset" onclick="resetForm()">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/>
                    </svg>
                    New Draft
                </button>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Left Column: Input Form -->
            <section class="input-section">
                <div class="section-header">
                    <h2>Compose Your Reply</h2>
                    <p>Fill in the details below to generate a professional draft.</p>
                </div>

                <div class="form-group">
                    <label for="incomingEmail">
                        Incoming Email <span class="required">*</span>
                    </label>
                    <p class="helper-text">Paste the email text or the thread you are replying to.</p>
                    <textarea 
                        id="incomingEmail" 
                        placeholder="Hi Team, hope you're doing well. Just checking in on the report..."
                        rows="8"
                    ></textarea>
                </div>

                <div class="form-group">
                    <label for="responseIntent">
                        What should your response say? <span class="required">*</span>
                    </label>
                    <p class="helper-text">E.g., 'Yes I can make the meeting', 'No I can't make it', etc.</p>
                    <textarea 
                        id="responseIntent" 
                        placeholder="Tell the AI your basic intent..."
                        rows="8"
                    ></textarea>
                </div>

                <div class="form-group">
                    <label for="responseTone">Select Response Tone</label>
                    <select id="responseTone">
                        <option value="Business friendly">Business friendly</option>
                        <option value="Friendly and chatty">Friendly and chatty</option>
                        <option value="Business concise">Business concise</option>
                        <option value="Detailed">Detailed</option>
                        <option value="Short and quick">Short and quick</option>
                        <option value="Firm but polite">Firm but polite</option>
                        <option value="Professional and direct">Professional and direct</option>
                        <option value="Warm and supportive">Warm and supportive</option>
                        <option value="Appreciative, respectful and open">Appreciative, respectful and open</option>
                    </select>
                </div>

                <div id="errorMessage" class="error-message" style="display: none;">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                    </svg>
                    <span id="errorText"></span>
                </div>

                <button class="btn-primary" onclick="generateResponse()" id="generateBtn">
                    <svg class="btn-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M13 10V3L4 14h7v7l9-11h-7z"/>
                    </svg>
                    <span>Craft Response</span>
                    <div class="spinner" style="display: none;"></div>
                </button>
            </section>

            <!-- Right Column: Results -->
            <section class="output-section">
                <div class="output-card">
                    <div class="output-header">
                        <h2>The Outcome</h2>
                        <span class="status-badge" id="statusBadge" style="display: none;">Draft Ready</span>
                    </div>

                    <!-- Loading State -->
                    <div id="loadingState" class="state-container" style="display: none;">
                        <div class="loading-icon">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M12 2v4m0 12v4M4.93 4.93l2.83 2.83m8.48 8.48l2.83 2.83M2 12h4m12 0h4M4.93 19.07l2.83-2.83m8.48-8.48l2.83-2.83"/>
                            </svg>
                        </div>
                        <h3>Analyzing Context...</h3>
                        <p>Our AI is drafting the perfect <span id="loadingTone">business friendly</span> response for you.</p>
                    </div>

                    <!-- Empty State -->
                    <div id="emptyState" class="state-container">
                        <div class="empty-icon">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"/>
                            </svg>
                        </div>
                        <h3>Ready to Draft</h3>
                        <p>Fill in the fields on the left and click 'Craft Response' to see the magic happen.</p>
                    </div>

                    <!-- Result State -->
                    <div id="resultState" class="result-container" style="display: none;">
                        <div class="result-field">
                            <label>Subject Line</label>
                            <div class="input-with-copy">
                                <input type="text" id="resultSubject" readonly>
                                <button class="btn-copy" onclick="copyToClipboard('resultSubject')" title="Copy Subject">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/>
                                    </svg>
                                </button>
                            </div>
                        </div>

                        <div class="result-field">
                            <div class="label-with-copy">
                                <label>Email Body</label>
                                <button class="btn-copy-text" onclick="copyToClipboard('resultBody')">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/>
                                    </svg>
                                    Copy Body
                                </button>
                            </div>
                            <textarea id="resultBody" readonly rows="12"></textarea>
                        </div>
                    </div>
                </div>

                <!-- Tip Box -->
                <div class="tip-box">
                    <div class="tip-content">
                        <p>Copy the response into your email and refine it to match your perfect tone.</p>
                    </div>
                    <svg class="tip-icon" viewBox="0 0 20 20" fill="currentColor">
                        <path d="M11 3a1 1 0 10-2 0v1a1 1 0 102 0V3zM15.657 5.757a1 1 0 00-1.414-1.414l-.707.707a1 1 0 001.414 1.414l.707-.707zM18 10a1 1 0 01-1 1h-1a1 1 0 110-2h1a1 1 0 011 1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zM5 10a1 1 0 01-1 1H3a1 1 0 110-2h1a1 1 0 011 1zM8 16v-1h4v1a2 2 0 11-4 0zM12 14c.015-.34.208-.646.477-.859a4 4 0 10-4.954 0c.27.213.462.519.477.859h4z"/>
                    </svg>
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer class="footer">
            <p>&copy; <span id="currentYear"></span> EmailCraft AI. Powered by Gemini AI.</p>
        </footer>
    </div>

    <script src="app.js"></script>
</body>
</html>
